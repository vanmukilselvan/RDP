<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>SpringBootWebApplicationTest.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">SpringBootWebApplicationTest (24 Dec, 2018 3:29:19 PM)</a> &gt; <a href="../../index.html" class="el_group">pmapi</a> &gt; <a href="../index.html" class="el_bundle">src/test/java</a> &gt; <a href="index.source.html" class="el_package">com.pmapi</a> &gt; <span class="el_source">SpringBootWebApplicationTest.java</span></div><h1>SpringBootWebApplicationTest.java</h1><pre class="source lang-java linenums">package com.pmapi;

import static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;

import org.junit.Before;
import org.junit.FixMethodOrder;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.MethodSorters;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.http.MediaType;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;
import org.springframework.test.web.servlet.MockMvc;
import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;
import org.springframework.test.web.servlet.setup.MockMvcBuilders;
import org.springframework.web.context.WebApplicationContext;

@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(classes = SpringBootWebApplication.class)
@SpringBootTest
@FixMethodOrder(MethodSorters.NAME_ASCENDING)
<span class="fc" id="L25">public class SpringBootWebApplicationTest {</span>
	
	private MockMvc mockMvc;
	
	@Autowired
    private WebApplicationContext wac;
	
	@Before
	public void setup() {
<span class="fc" id="L34">        this.mockMvc = MockMvcBuilders.webAppContextSetup(wac).build();</span>

<span class="fc" id="L36">	}</span>
	
	@Test
	public void A_addUser() throws Exception {
<span class="fc" id="L40">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/User/SubmitUserDetail&quot;)</span>
<span class="fc" id="L41">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L42">			      .content(&quot;{\&quot;firstName\&quot;:\&quot;First Name\&quot;,\&quot;lastName\&quot;:\&quot;Last Name\&quot;,\&quot;userId\&quot;:0,\&quot;employeeId\&quot;:\&quot;0122333\&quot;,\&quot;projectId\&quot;:\&quot;\&quot;,\&quot;taskId\&quot;:\&quot;\&quot;}&quot;)</span>
<span class="fc" id="L43">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L44">			.andExpect(jsonPath(&quot;$&quot;).isBoolean()).andDo(print());</span>
<span class="fc" id="L45">	}</span>
	
	@Test
	public void B_getAllUsers() throws Exception {
<span class="fc" id="L49">		mockMvc.perform(MockMvcRequestBuilders.get(&quot;/User/GetUserDetails&quot;).accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L50">			.andExpect(jsonPath(&quot;$&quot;).isArray()).andDo(print());</span>
<span class="fc" id="L51">	}</span>
	
	@Test
	public void C_editUser() throws Exception {
<span class="fc" id="L55">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/User/SubmitUserDetail&quot;)</span>
<span class="fc" id="L56">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L57">			      .content(&quot;{\&quot;firstName\&quot;:\&quot;First Name\&quot;,\&quot;lastName\&quot;:\&quot;Last Name\&quot;,\&quot;userId\&quot;:1,\&quot;employeeId\&quot;:\&quot;99999\&quot;,\&quot;projectId\&quot;:\&quot;\&quot;,\&quot;taskId\&quot;:\&quot;\&quot;}&quot;)</span>
<span class="fc" id="L58">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L59">			.andExpect(jsonPath(&quot;$&quot;).isBoolean()).andDo(print());</span>
<span class="fc" id="L60">	}</span>
	
	@Test
	public void D_DeleteUser() throws Exception {
<span class="fc" id="L64">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/User/SubmitUserDetail&quot;)</span>
<span class="fc" id="L65">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L66">			      .content(&quot;{\&quot;firstName\&quot;:\&quot;First Name\&quot;,\&quot;lastName\&quot;:\&quot;Last Name\&quot;,\&quot;userId\&quot;:0,\&quot;employeeId\&quot;:\&quot;5555\&quot;,\&quot;projectId\&quot;:\&quot;\&quot;,\&quot;taskId\&quot;:\&quot;\&quot;}&quot;)</span>
<span class="fc" id="L67">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L68">			.andExpect(jsonPath(&quot;$&quot;).isBoolean()).andDo(print());</span>
<span class="fc" id="L69">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/User/DeleteUserDetail&quot;)</span>
<span class="fc" id="L70">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L71">			      .content(&quot;{\&quot;firstName\&quot;:\&quot;First Name\&quot;,\&quot;lastName\&quot;:\&quot;Last Name\&quot;,\&quot;userId\&quot;:2,\&quot;employeeId\&quot;:\&quot;5555\&quot;,\&quot;projectId\&quot;:\&quot;\&quot;,\&quot;taskId\&quot;:\&quot;\&quot;}&quot;)</span>
<span class="fc" id="L72">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L73">			.andExpect(jsonPath(&quot;$&quot;).isBoolean()).andDo(print());</span>
<span class="fc" id="L74">	}</span>
	
	@Test
	public void E_AddProject() throws Exception {
<span class="fc" id="L78">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/Project/SubmitProjectDetail&quot;)</span>
<span class="fc" id="L79">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L80">			      .content(&quot;{\&quot;projectId\&quot;:0,\&quot;project\&quot;:\&quot;Test Project\&quot;,\&quot;startDate\&quot;:\&quot;2018-11-01\&quot;,\&quot;endDate\&quot;:\&quot;2018-11-30\&quot;,\&quot;priority\&quot;:23,\&quot;managerId\&quot;:1}&quot;)</span>
<span class="fc" id="L81">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L82">			.andExpect(jsonPath(&quot;$&quot;).isBoolean()).andDo(print());</span>
<span class="fc" id="L83">	}</span>
	
	@Test
	public void F_getAllProjects() throws Exception {
<span class="fc" id="L87">		mockMvc.perform(MockMvcRequestBuilders.get(&quot;/Project/GetProjectDetails&quot;).accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L88">		.andExpect(jsonPath(&quot;$&quot;).isArray()).andDo(print());</span>
<span class="fc" id="L89">	}</span>
	
	@Test
	public void G_UpdateProject() throws Exception {
<span class="fc" id="L93">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/Project/SubmitProjectDetail&quot;)</span>
<span class="fc" id="L94">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L95">			      .content(&quot;{\&quot;projectId\&quot;:1,\&quot;project\&quot;:\&quot;Project\&quot;,\&quot;startDate\&quot;:\&quot;2018-11-01\&quot;,\&quot;endDate\&quot;:\&quot;2018-11-30\&quot;,\&quot;priority\&quot;:15,\&quot;managerId\&quot;:1}&quot;)</span>
<span class="fc" id="L96">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L97">			.andExpect(jsonPath(&quot;$&quot;).isBoolean()).andDo(print());</span>
<span class="fc" id="L98">	}</span>
	
	@Test
	public void H_SuspendProject() throws Exception {
<span class="fc" id="L102">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/Project/SubmitProjectDetail&quot;)</span>
<span class="fc" id="L103">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L104">			      .content(&quot;{\&quot;projectId\&quot;:0,\&quot;project\&quot;:\&quot;Project\&quot;,\&quot;startDate\&quot;:\&quot;2018-11-01\&quot;,\&quot;endDate\&quot;:\&quot;2018-11-30\&quot;,\&quot;priority\&quot;:15,\&quot;managerId\&quot;:1}&quot;)</span>
<span class="fc" id="L105">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L106">			.andExpect(jsonPath(&quot;$&quot;).isBoolean()).andDo(print());</span>
		
<span class="fc" id="L108">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/Project/SuspendProjectDetail&quot;)</span>
<span class="fc" id="L109">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L110">			      .content(&quot;{\&quot;projectId\&quot;:2,\&quot;project\&quot;:\&quot;Project\&quot;,\&quot;startDate\&quot;:\&quot;2018-11-01\&quot;,\&quot;endDate\&quot;:\&quot;2018-11-30\&quot;,\&quot;priority\&quot;:15,\&quot;managerId\&quot;:1}&quot;)</span>
<span class="fc" id="L111">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L112">			.andExpect(jsonPath(&quot;$&quot;).isBoolean()).andDo(print());</span>
<span class="fc" id="L113">	}</span>
	
	@Test
	public void I_AddParentTask() throws Exception {
<span class="fc" id="L117">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/TaskManager/SubmitTaskDetail&quot;)</span>
<span class="fc" id="L118">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L119">			      .content(&quot;{\&quot;taskId\&quot;:null,\&quot;task\&quot;:\&quot;Parent Task \&quot;,\&quot;parent\&quot;:true}&quot;)</span>
<span class="fc" id="L120">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L121">			.andExpect(jsonPath(&quot;$&quot;).isBoolean()).andDo(print());</span>
<span class="fc" id="L122">	}</span>
		
	@Test
	public void J_getParentTasks() throws Exception {
<span class="fc" id="L126">		mockMvc.perform(MockMvcRequestBuilders.get(&quot;/TaskManager/GetParentTaskList&quot;).accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L127">		.andExpect(jsonPath(&quot;$&quot;).isArray()).andDo(print());</span>
<span class="fc" id="L128">	}</span>
	
	@Test
	public void K_AddTask() throws Exception {
<span class="fc" id="L132">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/TaskManager/SubmitTaskDetail&quot;)</span>
<span class="fc" id="L133">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L134">			      .content(&quot;{\&quot;taskId\&quot;:null,\&quot;parentId\&quot;:1,\&quot;task\&quot;:\&quot;Child Task\&quot;,\&quot;startDate\&quot;:\&quot;2018-11-01\&quot;,\&quot;endDate\&quot;:\&quot;2018-11-23\&quot;,\&quot;priority\&quot;:24,\&quot;projectId\&quot;:1,\&quot;userId\&quot;:1,\&quot;status\&quot;:0}&quot;)</span>
<span class="fc" id="L135">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L136">			.andExpect(jsonPath(&quot;$&quot;).isBoolean()).andDo(print());</span>
<span class="fc" id="L137">	}</span>
	
	@Test
	public void L_getProjectTasks() throws Exception {
<span class="fc" id="L141">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/TaskManager/GetTaskDetailList&quot;)</span>
<span class="fc" id="L142">				.contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L143">			      .content(&quot;{\&quot;projectId\&quot;:1,\&quot;project\&quot;:\&quot;Test Project\&quot;,\&quot;startDate\&quot;:\&quot;2018-11-01\&quot;,\&quot;endDate\&quot;:\&quot;2018-11-30\&quot;,\&quot;priority\&quot;:23,\&quot;taskCount\&quot;:1,\&quot;taskCompleted\&quot;:0,\&quot;managerId\&quot;:2,\&quot;managerName\&quot;:\&quot;First Name,Last Name\&quot;,\&quot;isActive\&quot;:0}&quot;)</span>
<span class="fc" id="L144">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L145">		.andExpect(jsonPath(&quot;$&quot;).isArray()).andDo(print());</span>
<span class="fc" id="L146">	}</span>
	
	@Test
	public void M_EditTask() throws Exception {
<span class="fc" id="L150">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/TaskManager/SubmitTaskDetail&quot;)</span>
<span class="fc" id="L151">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L152">			      .content(&quot;{\&quot;taskId\&quot;:1,\&quot;parentId\&quot;:1,\&quot;task\&quot;:\&quot;Child Task Updated\&quot;,\&quot;startDate\&quot;:\&quot;2018-11-01\&quot;,\&quot;endDate\&quot;:\&quot;2018-11-23\&quot;,\&quot;priority\&quot;:24,\&quot;projectId\&quot;:1,\&quot;userId\&quot;:1,\&quot;status\&quot;:0}&quot;)</span>
<span class="fc" id="L153">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L154">			.andExpect(jsonPath(&quot;$&quot;).isBoolean()).andDo(print());</span>
<span class="fc" id="L155">	}</span>
	
	@Test
	public void N_EndTask() throws Exception {
<span class="fc" id="L159">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/TaskManager/UpdateEndTask&quot;)</span>
<span class="fc" id="L160">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L161">			      .content(&quot;{\&quot;taskId\&quot;:1}&quot;)</span>
<span class="fc" id="L162">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L163">			.andExpect(jsonPath(&quot;$&quot;).isBoolean()).andDo(print());</span>
<span class="fc" id="L164">	}</span>
	
	@Test
	public void O_AddTaskNegative() throws Exception {
<span class="fc" id="L168">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/TaskManager/UpdateEndTask&quot;)</span>
<span class="fc" id="L169">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L170">			      .content(&quot;{\&quot;taskId\&quot;:null,\&quot;parentId\&quot;:1,\&quot;task\&quot;:\&quot;Child Task\&quot;,\&quot;startDate\&quot;:\&quot;2018-11-01\&quot;,\&quot;endDate\&quot;:\&quot;2018-11-23\&quot;,\&quot;priority\&quot;:24,\&quot;projectId\&quot;:10,\&quot;userId\&quot;:1,\&quot;status\&quot;:0}&quot;)</span>
<span class="fc" id="L171">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L172">			.andExpect(jsonPath(&quot;$&quot;).isNotEmpty()).andDo(print());</span>
<span class="fc" id="L173">	}</span>
	
	@Test
	public void P_EndTaskNegative() throws Exception {
<span class="fc" id="L177">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/TaskManager/SubmitTaskDetail&quot;)</span>
<span class="fc" id="L178">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L179">			      .content(&quot;{\&quot;taskId\&quot;:null,\&quot;parentId\&quot;:1,\&quot;task\&quot;:\&quot;Child Task\&quot;,\&quot;startDate\&quot;:\&quot;2018-11-01\&quot;,\&quot;endDate\&quot;:\&quot;2018-11-23\&quot;,\&quot;priority\&quot;:24,\&quot;projectId\&quot;:10,\&quot;userId\&quot;:1,\&quot;status\&quot;:0}&quot;)</span>
<span class="fc" id="L180">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L181">			.andExpect(jsonPath(&quot;$&quot;).isNotEmpty()).andDo(print());</span>
<span class="fc" id="L182">	}</span>
	
	@Test
	public void Q_DeleteUserNegative() throws Exception {
<span class="fc" id="L186">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/User/DeleteUserDetail&quot;)</span>
<span class="fc" id="L187">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L188">			      .content(&quot;{\&quot;firstName\&quot;:\&quot;First Name\&quot;,\&quot;lastName\&quot;:\&quot;Last Name\&quot;,\&quot;userId\&quot;:-1,\&quot;employeeId\&quot;:\&quot;5555\&quot;,\&quot;projectId\&quot;:\&quot;\&quot;,\&quot;taskId\&quot;:\&quot;\&quot;}&quot;)</span>
<span class="fc" id="L189">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L190">			.andExpect(jsonPath(&quot;$&quot;).exists()).andDo(print());</span>
<span class="fc" id="L191">	}</span>
	
	@Test
	public void R_SuspendProjectNegative() throws Exception {		
<span class="fc" id="L195">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/Project/SuspendProjectDetail&quot;)</span>
<span class="fc" id="L196">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L197">			      .content(&quot;{\&quot;projectId\&quot;:-1,\&quot;project\&quot;:\&quot;Project\&quot;,\&quot;startDate\&quot;:\&quot;2018-11-01\&quot;,\&quot;endDate\&quot;:\&quot;2018-11-30\&quot;,\&quot;priority\&quot;:15,\&quot;managerId\&quot;:1}&quot;)</span>
<span class="fc" id="L198">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L199">			.andExpect(jsonPath(&quot;$&quot;).exists()).andDo(print());</span>
<span class="fc" id="L200">	}</span>
	
	@Test
	public void S_UpdateProjectNegative() throws Exception {
<span class="fc" id="L204">		mockMvc.perform(MockMvcRequestBuilders.post(&quot;/Project/SubmitProjectDetail&quot;)</span>
<span class="fc" id="L205">				 .contentType(MediaType.APPLICATION_JSON)</span>
<span class="fc" id="L206">			      .content(&quot;{\&quot;projectId\&quot;:-2,\&quot;project\&quot;:\&quot;Project\&quot;,\&quot;startDate\&quot;:\&quot;2018-11-01\&quot;,\&quot;endDate\&quot;:\&quot;2018-11-30\&quot;,\&quot;priority\&quot;:15,\&quot;managerId\&quot;:5}&quot;)</span>
<span class="fc" id="L207">				.accept(MediaType.APPLICATION_JSON))</span>
<span class="fc" id="L208">			.andExpect(jsonPath(&quot;$&quot;).exists()).andDo(print());</span>
<span class="fc" id="L209">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span>SpringBootWebApplicationTest (24 Dec, 2018 3:29:19 PM)</div></body></html>